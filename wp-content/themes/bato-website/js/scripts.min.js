const sliderItems=document.querySelectorAll(".slider-item-name"),card=document.querySelectorAll(".item-card"),sectionBanner=document.querySelector(".section-banner"),menuMainItems=document.querySelectorAll(".header-menu .menu-item a"),cardTitleItems=document.querySelectorAll(".section-cards .card-title"),socialMedia=document.querySelectorAll(".social-media .menu-item a"),subtitleTeg=document.querySelector(".subtitle"),subTitleArr=JSON.parse(subTitles),subTitleArrForAnimation=subTitleArr.map(e=>e.subtitle),preloaderBlock=document.querySelector(".preloader"),page=document.querySelector(".page"),sectionAnimation=document.querySelector(".section-animation"),sectionNumbersNumber=document.querySelectorAll(".section-numbers__number"),linkContactPhrase=document.querySelector(".section-contact__phrase a"),linkContactPhraseContent=linkContactPhrase.innerHTML,linkContactPhraseLink=linkContactPhrase.getAttribute("href"),teamItemContainer=document.querySelectorAll(".container"),frontCube=document.querySelectorAll(".front-cube"),backCube=document.querySelectorAll(".back-cube"),leftCube=document.querySelectorAll(".left-cube"),rightCube=document.querySelectorAll(".right-cube"),bottomCube=document.querySelectorAll(".bottom-cube"),topCube=document.querySelectorAll(".top-cube"),cubeItem=document.querySelectorAll(".cube"),cursorFollowArr=document.querySelectorAll(".cursor-follow-item"),cursorWrapper=document.querySelector(".cursor-follow"),speedSlider=1,iconOpenNav=document.querySelector(".navigation-icon"),iconCloseNav=document.querySelector(".navigation-icon-close"),navBlockHeader=document.querySelector(".header__navigation"),menuItem=document.querySelectorAll(".header-menu .menu-item"),preloaderMenuMob=document.querySelector(".preloader-menu-mob"),header=document.querySelector("header"),scrollChange=1,allCardsInSectionServices=document.querySelectorAll(".card-services");let isScrolling,teamItemWidth,teamCube=document.querySelector(".section-team__items-wrapp"),teamCubes=document.querySelectorAll(".section-team__items-wrapp"),scrollCount=0,scrollpos=window.scrollY,positionCursor={x:0,y:0},positionMouse={x:0,y:0};function animationWave(e){e.forEach(function(e){let t=e.innerHTML.split("").reduce((e,t,o)=>`${e}<span style="--index: `+`${o}`+`">${t}</span>`,"");e.innerHTML='\n        <div class="animation-wrapp-wave">\n            <div class="wave-item">'+t+'</div>\n            <div class="wave-item-clone">'+t+"</div>\n        </div>"})}preloaderBlock&&window.addEventListener("load",()=>{preloaderBlock.classList.add("preloader-start"),page.classList.add("visible")}),window.addEventListener("scroll",function(){(scrollpos=window.scrollY)>=1?header.classList.add("header-mobile-border"):header.classList.remove("header-mobile-border")}),iconOpenNav.addEventListener("click",()=>{navBlockHeader.classList.add("open-menu"),page.classList.remove("visible"),preloaderMenuMob.classList.add("preloader-menu-mob-start")}),iconCloseNav.addEventListener("click",()=>{navBlockHeader.classList.remove("open-menu"),page.classList.add("visible"),preloaderMenuMob.classList.remove("preloader-menu-mob-start")}),menuItem.forEach(e=>{e.addEventListener("click",()=>{navBlockHeader.classList.remove("open-menu"),page.classList.contains("visible")||page.classList.add("visible"),preloaderMenuMob.classList.contains("preloader-menu-mob-start")&&preloaderMenuMob.classList.remove("preloader-menu-mob-start")})});class TextScramble{constructor(e){this.el=e,this.chars="!\\/?#abdehkmnpswxz",this.update=this.update.bind(this)}setText(e){const t=this.el.innerText,o=Math.max(t.length,e.length),r=new Promise(e=>this.resolve=e);this.queue=[];for(let r=0;r<o;r++){const o=t[r]||"",n=e[r]||"",a=Math.floor(40*Math.random()),i=a+Math.floor(40*Math.random());this.queue.push({from:o,to:n,start:a,end:i})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),r}update(){let e="",t=0;for(let o=0,r=this.queue.length;o<r;o++){let{from:r,to:n,start:a,end:i,char:s}=this.queue[o];this.frame>=i?(t++,e+=n):this.frame>=a?((!s||Math.random()<.28)&&(s=this.randomChar(),this.queue[o].char=s),e+='<span class="dud-text">'+s+"</span>"):e+=r}this.el.innerHTML=e,t===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}randomChar(){return this.chars[Math.floor(Math.random()*this.chars.length)]}}setTimeout(()=>{const e=new TextScramble(subtitleTeg);let t=0;const o=()=>{e.setText(subTitleArrForAnimation[t]).then(()=>{setTimeout(o,3e3)}),t=(t+1)%subTitleArrForAnimation.length};o()},6e3),setTimeout(()=>{subtitleTeg.style.animation="main_animation_title 2s ease forwards"},4e3),-1!=navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")?page.classList.add("body-safari"):-1!=navigator.userAgent.indexOf("Firefox")&&page.classList.add("body-firefox"),document.querySelector("body").classList.contains("body-safari")||(animationWave(cardTitleItems),animationWave(menuMainItems),animationWave(socialMedia));const splide=new Splide(".splide",{updateOnMove:!0,type:"loop",focus:"center",gap:100,autoWidth:!0,arrows:!1,pagination:!1,clones:2,drag:!1,autoScroll:{speed:speedSlider,pauseOnHover:!1,pauseOnFocus:!1},breakpoints:{992:{gap:55}}});splide.mount(window.splide.Extensions),sectionNumbersNumber&&sectionNumbersNumber.forEach(e=>{let t=e.innerHTML.split("").reduce((e,t,o)=>`${e}<span style="animation-delay: ${1+o/3}s;">${t}</span>`,"");e.innerHTML=t});let root=document.documentElement;if(teamItemContainer){teamItemWidth=teamCube.offsetWidth,root.style.setProperty("--cube-width",teamItemWidth+"px"),root.style.setProperty("--cube-width-minus",-teamItemWidth+"px");let e=teamItemWidth/2,t=["rotateY(90deg)","rotateY(-90deg)","rotateX(-90deg)","rotateX(90deg)"];function arrayRandElement(e){return e[Math.floor(Math.random()*e.length)]}cubeItem.forEach(o=>{o.style.transform=`translateZ(-${e}px) rotateY(0deg)`,o.addEventListener("click",function(){o.style.transform==`translateZ(-${e}px) rotateY(0deg)`?o.style.transform=`translateZ(-${teamItemWidth}px) ${arrayRandElement(t)}`:o.style.transform=`translateZ(-${e}px) rotateY(0deg)`})}),window.addEventListener("resize",()=>{teamItemWidth=teamCube.offsetWidth,teamItemWidthMinus=-teamItemWidth,root.style.setProperty("--cube-width",teamItemWidth+"px"),root.style.setProperty("--cube-width-minus",-teamItemWidth+"px")})}if(!document.querySelector("body").classList.contains("body-safari")){if(linkContactPhrase){linkContactPhrase.innerHTML=`\n            <span class="container container-link">\n                <span class="magnetic magnetic-link">\n                    <span class="btn btn-outline-primary magnet-button">${linkContactPhraseContent}\n                    </span>\n                </span>\n            </span>`;let e=document.querySelectorAll(".magnetic"),t=50;if(e){function moveMagnet(e){var o=e.currentTarget,r=o.getBoundingClientRect();TweenMax.to(o,1,{x:((e.clientX-r.left)/o.offsetWidth-.5)*t,y:((e.clientY-r.top)/o.offsetHeight-.5)*t,ease:Power4.easeOut})}e.forEach(e=>{e.addEventListener("mousemove",moveMagnet),e.addEventListener("mouseout",function(e){TweenMax.to(e.currentTarget,1,{x:0,y:0,ease:Power4.easeOut})})})}}function upSpeedSlider(){scrollCount+=.05,splide.options={autoScroll:{speed:speedSlider+scrollCount<=5?speedSlider+scrollCount:5}},window.clearTimeout(isScrolling),isScrolling=setTimeout(function(){splide.options={autoScroll:{speed:speedSlider}}},66)}function sliderSpeedOnScroll(){window.addEventListener("scroll",upSpeedSlider,!1)}function defaultSpeedScrollSlider(){window.removeEventListener("scroll",upSpeedSlider,!1)}}let controller=new ScrollMagic.Controller;if(!document.querySelector("body").classList.contains("body-safari")&&window.screen.width>=1024)new ScrollMagic.Scene({triggerElement:"#section-slider",duration:1e3,triggerHook:"onLeave",triggerHook:1}).on("enter",sliderSpeedOnScroll).on("leave",defaultSpeedScrollSlider).addTo(controller).reverse(!0);let sectionAbout=new ScrollMagic.Scene({triggerElement:"#section-about",triggerHook:"onLeave",triggerHook:.8}).setClassToggle(".section-about","section-about-animation").addTo(controller).reverse(!1),sectionCards=new ScrollMagic.Scene({triggerElement:"#section-cards",triggerHook:"onLeave",triggerHook:.8}).setClassToggle(".section-cards","section-cards-animation").addTo(controller).reverse(!1),sectionOffers=new ScrollMagic.Scene({triggerElement:"#section-offers",triggerHook:"onLeave",triggerHook:.8}).setClassToggle(".section-offers","section-offers-animation").addTo(controller).reverse(!1),sectionNumbers=new ScrollMagic.Scene({triggerElement:"#section-numbers",triggerHook:"onLeave",triggerHook:.8}).setClassToggle(".section-numbers","section-numbers-animation").addTo(controller).reverse(!1),sectionTeam=new ScrollMagic.Scene({triggerElement:"#section-team",triggerHook:"onLeave",triggerHook:.8}).setClassToggle(".section-team","section-team-animation").addTo(controller).reverse(!1),sectionContact=new ScrollMagic.Scene({triggerElement:"#section-contact",triggerHook:"onLeave",triggerHook:.8}).setClassToggle(".section-contact","section-contact-animation").addTo(controller).reverse(!1),footer=new ScrollMagic.Scene({triggerElement:"#footer",triggerHook:"onLeave",triggerHook:.9}).setClassToggle(".footer","footer-animation").addTo(controller).reverse(!1);if(window.screen.width<=1024){function backToTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}document.getElementById("back-to-top").addEventListener("click",backToTop)}window.screen.width<768&&allCardsInSectionServices.forEach((e,t)=>{new ScrollMagic.Scene({triggerElement:`#card-services-${t}`,triggerHook:"onLeave",duration:"35%",triggerHook:.6}).setClassToggle(`.card-services-${t}`,"color-card").addTo(controller).reverse(!0)});